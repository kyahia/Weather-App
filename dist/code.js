/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/assets/country-codes.csv":
/*!**************************************!*\
  !*** ./src/assets/country-codes.csv ***!
  \**************************************/
/***/ ((module) => {

module.exports = [["Alpha-2 code","English short name lower case"],["AF","Afghanistan"],["AX","Åland Islands"],["AL","Albania"],["DZ","Algeria"],["AS","American Samoa"],["AD","Andorra"],["AO","Angola"],["AI","Anguilla"],["AQ","Antarctica"],["AG","Antigua and Barbuda"],["AR","Argentina"],["AM","Armenia"],["AW","Aruba"],["AU","Australia"],["AT","Austria"],["AZ","Azerbaijan"],["BS","Bahamas"],["BH","Bahrain"],["BD","Bangladesh"],["BB","Barbados"],["BY","Belarus"],["BE","Belgium"],["BZ","Belize"],["BJ","Benin"],["BM","Bermuda"],["BT","Bhutan"],["BO","Bolivia, Plurinational State of"],["BA","Bosnia and Herzegovina"],["BW","Botswana"],["BV","Bouvet Island"],["BR","Brazil"],["IO","British Indian Ocean Territory"],["BN","Brunei Darussalam"],["BG","Bulgaria"],["BF","Burkina Faso"],["BI","Burundi"],["KH","Cambodia"],["CM","Cameroon"],["CA","Canada"],["CV","Cape Verde"],["KY","Cayman Islands"],["CF","Central African Republic"],["TD","Chad"],["CL","Chile"],["CN","China"],["CX","Christmas Island"],["CC","Cocos (Keeling) Islands"],["CO","Colombia"],["KM","Comoros"],["CG","Congo"],["CD","Congo, the Democratic Republic of the"],["CK","Cook Islands"],["CR","Costa Rica"],["CI","Côte d'Ivoire"],["HR","Croatia"],["CU","Cuba"],["CY","Cyprus"],["CZ","Czech Republic"],["DK","Denmark"],["DJ","Djibouti"],["DM","Dominica"],["DO","Dominican Republic"],["EC","Ecuador"],["EG","Egypt"],["SV","El Salvador"],["GQ","Equatorial Guinea"],["ER","Eritrea"],["EE","Estonia"],["ET","Ethiopia"],["FK","Falkland Islands (Malvinas)"],["FO","Faroe Islands"],["FJ","Fiji"],["FI","Finland"],["FR","France"],["GF","French Guiana"],["PF","French Polynesia"],["TF","French Southern Territories"],["GA","Gabon"],["GM","Gambia"],["GE","Georgia"],["DE","Germany"],["GH","Ghana"],["GI","Gibraltar"],["GR","Greece"],["GL","Greenland"],["GD","Grenada"],["GP","Guadeloupe"],["GU","Guam"],["GT","Guatemala"],["GG","Guernsey"],["GN","Guinea"],["GW","Guinea-Bissau"],["GY","Guyana"],["HT","Haiti"],["HM","Heard Island and McDonald Islands"],["VA","Holy See (Vatican City State)"],["HN","Honduras"],["HK","Hong Kong"],["HU","Hungary"],["IS","Iceland"],["IN","India"],["ID","Indonesia"],["IR","Iran, Islamic Republic of"],["IQ","Iraq"],["IE","Ireland"],["IM","Isle of Man"],["IL","Israel"],["IT","Italy"],["JM","Jamaica"],["JP","Japan"],["JE","Jersey"],["JO","Jordan"],["KZ","Kazakhstan"],["KE","Kenya"],["KI","Kiribati"],["KP","Democratic People's Republic of Korea"],["KR","Republic of Korea"],["KW","Kuwait"],["KG","Kyrgyzstan"],["LA","Lao People's Democratic Republic"],["LV","Latvia"],["LB","Lebanon"],["LS","Lesotho"],["LR","Liberia"],["LY","Libyan Arab Jamahiriya"],["LI","Liechtenstein"],["LT","Lithuania"],["LU","Luxembourg"],["MO","Macao"],["MK","Macedonia, the former Yugoslav Republic of"],["MG","Madagascar"],["MW","Malawi"],["MY","Malaysia"],["MV","Maldives"],["ML","Mali"],["MT","Malta"],["MH","Marshall Islands"],["MQ","Martinique"],["MR","Mauritania"],["MU","Mauritius"],["YT","Mayotte"],["MX","Mexico"],["FM","Micronesia, Federated States of"],["MD","Moldova, Republic of"],["MC","Monaco"],["MN","Mongolia"],["ME","Montenegro"],["MS","Montserrat"],["MA","Morocco"],["MZ","Mozambique"],["MM","Myanmar"],["NA","Namibia"],["NR","Nauru"],["NP","Nepal"],["NL","Netherlands"],["AN","Netherlands Antilles"],["NC","New Caledonia"],["NZ","New Zealand"],["NI","Nicaragua"],["NE","Niger"],["NG","Nigeria"],["NU","Niue"],["NF","Norfolk Island"],["MP","Northern Mariana Islands"],["NO","Norway"],["OM","Oman"],["PK","Pakistan"],["PW","Palau"],["PS","Palestinian Territory, Occupied"],["PA","Panama"],["PG","Papua New Guinea"],["PY","Paraguay"],["PE","Peru"],["PH","Philippines"],["PN","Pitcairn"],["PL","Poland"],["PT","Portugal"],["PR","Puerto Rico"],["QA","Qatar"],["RE","Réunion"],["RO","Romania"],["RU","Russian Federation"],["RW","Rwanda"],["BL","Saint Barthélemy"],["SH","Saint Helena, Ascension and Tristan da Cunha"],["KN","Saint Kitts and Nevis"],["LC","Saint Lucia"],["MF","Saint Martin (French part)"],["PM","Saint Pierre and Miquelon"],["VC","Saint Vincent and the Grenadines"],["WS","Samoa"],["SM","San Marino"],["ST","Sao Tome and Principe"],["SA","Saudi Arabia"],["SN","Senegal"],["RS","Serbia"],["SC","Seychelles"],["SL","Sierra Leone"],["SG","Singapore"],["SK","Slovakia"],["SI","Slovenia"],["SB","Solomon Islands"],["SO","Somalia"],["ZA","South Africa"],["GS","South Georgia and the South Sandwich Islands"],["ES","Spain"],["LK","Sri Lanka"],["SD","Sudan"],["SR","Suriname"],["SJ","Svalbard and Jan Mayen"],["SZ","Swaziland"],["SE","Sweden"],["CH","Switzerland"],["SY","Syrian Arab Republic"],["TW","Taiwan, Province of China"],["TJ","Tajikistan"],["TZ","Tanzania, United Republic of"],["TH","Thailand"],["TL","Timor-Leste"],["TG","Togo"],["TK","Tokelau"],["TO","Tonga"],["TT","Trinidad and Tobago"],["TN","Tunisia"],["TR","Turkey"],["TM","Turkmenistan"],["TC","Turks and Caicos Islands"],["TV","Tuvalu"],["UG","Uganda"],["UA","Ukraine"],["AE","United Arab Emirates"],["GB","United Kingdom"],["US","United States"],["UM","United States Minor Outlying Islands"],["UY","Uruguay"],["UZ","Uzbekistan"],["VU","Vanuatu"],["VE","Venezuela, Bolivarian Republic of"],["VN","Viet Nam"],["VG","Virgin Islands, British"],["VI","Virgin Islands, U.S."],["WF","Wallis and Futuna"],["EH","Western Sahara"],["YE","Yemen"],["ZM","Zambia"],["ZW","Zimbabwe"],[""]]

/***/ }),

/***/ "./src/assets/wmo-codes.csv":
/*!**********************************!*\
  !*** ./src/assets/wmo-codes.csv ***!
  \**********************************/
/***/ ((module) => {

module.exports = [["0","clear sky"],["1","mainly clear"],["2","Mainly clear"],["3","overcast"],["45","fog"],["48","rime fog"],["51","light Drizzle"],["53","moderate Drizzle"],["55","dense Drizzle"],["56","light freezing drizzle"],["57","dense freezing drizzl"],["61","slight rain"],["63","moderate rain"],["65","heavy rain"],["66","light freezing rain"],["67","heavy freezing rain"],["71","slight snow fall"],["73","moderate snow fall"],["75","heavy snow fall"],["77","snow grains"],["80","slight rain shower"],["81","moderate rain shower"],["82","violent rain shower"],["85","slight snow shower"],["86","heavy snow shower"],["95","thunderstorm"],["96","thunderstorm with slight hail"],["99","thunderstorm with heavy hail"],[""]]

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!*********************!*\
  !*** ./src/code.js ***!
  \*********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _assets_country_codes_csv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./assets/country-codes.csv */ "./src/assets/country-codes.csv");
/* harmony import */ var _assets_country_codes_csv__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_assets_country_codes_csv__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _assets_wmo_codes_csv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assets/wmo-codes.csv */ "./src/assets/wmo-codes.csv");
/* harmony import */ var _assets_wmo_codes_csv__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_assets_wmo_codes_csv__WEBPACK_IMPORTED_MODULE_1__);



// Prevent page from refreshing
document.querySelector('form').addEventListener('submit', e => {
   e.preventDefault();
   generate();
});

// Select HTML elements
const cityInput = document.querySelector('input[type="search"]');
const limitInput = document.querySelector('input[type="number"]');
const zoneInput = document.querySelector('select');
generateZonesHTML();
const main = document.querySelector('main');

// API functions
function locationGen(city, limit) {
   const apiUrl = 'http://api.openweathermap.org/geo/1.0/direct?q=';
   const toAPI_key = '&appid=ffdfa253912369611ba178473532dc00';
   return apiUrl + city + '&limit=' + limit + toAPI_key;
}
function weatherAPI(latitude, longitude, timeZone) {
   //https://api.open-meteo.com/v1/forecast?latitude=52.52&longitude=13.41
   //&daily=weathercode,temperature_2m_max,temperature_2m_min,precipitation_sum&timezone=Europe%2FBerlin
   const apiUrl = 'http://api.open-meteo.com/v1/forecast?';
   const toParameters = '&daily=weathercode,temperature_2m_max,temperature_2m_min,precipitation_sum&timezone=';
   return apiUrl + 'latitude=' + latitude + '&longitude=' + longitude + toParameters + timeZone;
}

function weatherHourly(latitude, longitude) {
   //https://api.open-meteo.com/v1/forecast?latitude=52.52&longitude=13.41
   //&daily=weathercode,temperature_2m_max,temperature_2m_min,precipitation_sum&timezone=Europe%2FBerlin
   const toParameters = '&hourly=temperature_2m,relativehumidity_2m';
   const apiUrl = 'http://api.open-meteo.com/v1/forecast?';
   return apiUrl + 'latitude=' + latitude + '&longitude=' + longitude + toParameters;
   // returning JSON.hourly.{relativehumidity_2m : [hours], temperature_2m: [hours] }
}

// main function
async function generate() {
   const weatherData = [];
   main.textContent = '';
   const loadingDisplay = document.querySelector('.loading').querySelector('h1');
   loadingDisplay.textContent = 'Loading..';

   const searchedCity = cityInput.value;
   const numberOfCities = limitInput.value;
   const gmtInput = zoneInput.value;

   // getting long & lat from location url
   try {
      let coordinates = [];
      coordinates = await fetching(locationGen(searchedCity, numberOfCities));

      for (let location of coordinates) {
         const weatherJSON = await fetching(weatherAPI(location.lat, location.lon, gmtInput));
         weatherData.push({
            city: location.name,
            country: location.country,
            tempMax: weatherJSON.daily.temperature_2m_max[0],
            tempMin: weatherJSON.daily.temperature_2m_min[0],
            precipitation: weatherJSON.daily.precipitation_sum[0],
            weatherCode: weatherJSON.daily.weathercode[0]
         });
      }

   }
   // HTML manipulations
   finally {
      populate(weatherData);
      loadingDisplay.textContent = '';
   }


}

async function fetching(url) {
   const response = await fetch(url, { mode: 'cors' });
   const res = await response.json()
   return res;
}

// HTML manipulation function
function populate(list) {
   list.forEach(element => {
      const wrapper = document.createElement('div');
      const title = document.createElement('h1');
      const weatherCode = document.createElement('h2');
      const params = document.createElement('ul');
      const tempMax = document.createElement('li');
      const tempMin = document.createElement('li');
      const precipitation = document.createElement('li');

      title.textContent = `${element.city} - ${getCountry(element.country)}`;
      weatherCode.textContent = camelCasing(wmo(element.weatherCode));
      tempMax.textContent = `Temperature Max: ${element.tempMax} °C`;
      tempMin.textContent = `Temperature Min: ${element.tempMin} °C`;
      precipitation.textContent = `Precipitation : ${element.precipitation} mm`;

      if (element.tempMax <= 10) {
         wrapper.className = "cold";
      }
      else if (element.tempMax <= 25) {
         wrapper.className = "warm";
      } else {
         wrapper.className = "hot";
      }

      params.appendChild(tempMax);
      params.appendChild(tempMin);
      params.appendChild(precipitation);
      wrapper.appendChild(title);
      wrapper.appendChild(weatherCode);
      wrapper.appendChild(params);

      main.appendChild(wrapper);
   })
}

function camelCasing(txt) {
   return txt.split(" ").map(word => word[0].toUpperCase() + word.slice(1)).join(' ')
}

// Codes

function getCountry(countryCode) {
   return _assets_country_codes_csv__WEBPACK_IMPORTED_MODULE_0___default().find(line => line[0] === countryCode)[1]
}

function wmo(code) {
   console.log(code)
   console.log((_assets_wmo_codes_csv__WEBPACK_IMPORTED_MODULE_1___default()))
   return _assets_wmo_codes_csv__WEBPACK_IMPORTED_MODULE_1___default().find(line => line[0] === code.toString())[1]
}

// Time zones HTML content
function generateZonesHTML() {
   zoneInput.innerHTML = `<option value="America%2FAnchorage">America/Anchorage</option>
   <option value="America%2FLos_Angeles">America/Los_Angeles</option>
   <option value="America%2FDenver">America/Denver</option>
   <option value="America%2FChicago">America/Chicago</option>
   <option value="America%2FNew_York">America/New_York</option>
   <option value="America%2FSao_Paulo">America/Sao_Paulo</option>
   <option selected value="Europe%2FLondon">Europe/London</option>
   <option value="Europe%2FBerlin">Europe/Berlin</option>
   <option value="Europe%2FMoscow">Europe/Moscow</option>
   <option value="Africa%2FCairo">Africa/Cairo</option>
   <option value="Asia%2FBangkok">Asia/Bangkok</option>
   <option value="Asia%2FSingapore">Asia/Singapore</option>
   <option value="Asia%2FTokyo">Asia/Tokyo</option>
   <option value="Australia%2FSydney">Australia/Sydney</option>
   <option value="Pacific%2FAuckland">Pacific/Auckland</option>`;
}
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29kZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7VUNBQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBOztVQUVBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBOzs7OztXQ3RCQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EsaUNBQWlDLFdBQVc7V0FDNUM7V0FDQTs7Ozs7V0NQQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLHlDQUF5Qyx3Q0FBd0M7V0FDakY7V0FDQTtXQUNBOzs7OztXQ1BBOzs7OztXQ0FBO1dBQ0E7V0FDQTtXQUNBLHVEQUF1RCxpQkFBaUI7V0FDeEU7V0FDQSxnREFBZ0QsYUFBYTtXQUM3RDs7Ozs7Ozs7Ozs7Ozs7OztBQ05zRDtBQUNSOztBQUU5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0EsdUNBQXVDLGNBQWM7QUFDckQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZCQUE2QixjQUFjLElBQUksNEJBQTRCO0FBQzNFO0FBQ0EsZ0RBQWdELGlCQUFpQjtBQUNqRSxnREFBZ0QsaUJBQWlCO0FBQ2pFLHFEQUFxRCx1QkFBdUI7O0FBRTVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsVUFBVSxxRUFBaUI7QUFDM0I7O0FBRUE7QUFDQTtBQUNBLGVBQWUsOERBQVE7QUFDdkIsVUFBVSxpRUFBYTtBQUN2Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYXRoZXItYXBwLy4vc3JjL2Fzc2V0cy9jb3VudHJ5LWNvZGVzLmNzdiIsIndlYnBhY2s6Ly93ZWF0aGVyLWFwcC8uL3NyYy9hc3NldHMvd21vLWNvZGVzLmNzdiIsIndlYnBhY2s6Ly93ZWF0aGVyLWFwcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWF0aGVyLWFwcC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly93ZWF0aGVyLWFwcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vd2VhdGhlci1hcHAvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly93ZWF0aGVyLWFwcC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3dlYXRoZXItYXBwLy4vc3JjL2NvZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBbW1wiQWxwaGEtMiBjb2RlXCIsXCJFbmdsaXNoIHNob3J0IG5hbWUgbG93ZXIgY2FzZVwiXSxbXCJBRlwiLFwiQWZnaGFuaXN0YW5cIl0sW1wiQVhcIixcIsOFbGFuZCBJc2xhbmRzXCJdLFtcIkFMXCIsXCJBbGJhbmlhXCJdLFtcIkRaXCIsXCJBbGdlcmlhXCJdLFtcIkFTXCIsXCJBbWVyaWNhbiBTYW1vYVwiXSxbXCJBRFwiLFwiQW5kb3JyYVwiXSxbXCJBT1wiLFwiQW5nb2xhXCJdLFtcIkFJXCIsXCJBbmd1aWxsYVwiXSxbXCJBUVwiLFwiQW50YXJjdGljYVwiXSxbXCJBR1wiLFwiQW50aWd1YSBhbmQgQmFyYnVkYVwiXSxbXCJBUlwiLFwiQXJnZW50aW5hXCJdLFtcIkFNXCIsXCJBcm1lbmlhXCJdLFtcIkFXXCIsXCJBcnViYVwiXSxbXCJBVVwiLFwiQXVzdHJhbGlhXCJdLFtcIkFUXCIsXCJBdXN0cmlhXCJdLFtcIkFaXCIsXCJBemVyYmFpamFuXCJdLFtcIkJTXCIsXCJCYWhhbWFzXCJdLFtcIkJIXCIsXCJCYWhyYWluXCJdLFtcIkJEXCIsXCJCYW5nbGFkZXNoXCJdLFtcIkJCXCIsXCJCYXJiYWRvc1wiXSxbXCJCWVwiLFwiQmVsYXJ1c1wiXSxbXCJCRVwiLFwiQmVsZ2l1bVwiXSxbXCJCWlwiLFwiQmVsaXplXCJdLFtcIkJKXCIsXCJCZW5pblwiXSxbXCJCTVwiLFwiQmVybXVkYVwiXSxbXCJCVFwiLFwiQmh1dGFuXCJdLFtcIkJPXCIsXCJCb2xpdmlhLCBQbHVyaW5hdGlvbmFsIFN0YXRlIG9mXCJdLFtcIkJBXCIsXCJCb3NuaWEgYW5kIEhlcnplZ292aW5hXCJdLFtcIkJXXCIsXCJCb3Rzd2FuYVwiXSxbXCJCVlwiLFwiQm91dmV0IElzbGFuZFwiXSxbXCJCUlwiLFwiQnJhemlsXCJdLFtcIklPXCIsXCJCcml0aXNoIEluZGlhbiBPY2VhbiBUZXJyaXRvcnlcIl0sW1wiQk5cIixcIkJydW5laSBEYXJ1c3NhbGFtXCJdLFtcIkJHXCIsXCJCdWxnYXJpYVwiXSxbXCJCRlwiLFwiQnVya2luYSBGYXNvXCJdLFtcIkJJXCIsXCJCdXJ1bmRpXCJdLFtcIktIXCIsXCJDYW1ib2RpYVwiXSxbXCJDTVwiLFwiQ2FtZXJvb25cIl0sW1wiQ0FcIixcIkNhbmFkYVwiXSxbXCJDVlwiLFwiQ2FwZSBWZXJkZVwiXSxbXCJLWVwiLFwiQ2F5bWFuIElzbGFuZHNcIl0sW1wiQ0ZcIixcIkNlbnRyYWwgQWZyaWNhbiBSZXB1YmxpY1wiXSxbXCJURFwiLFwiQ2hhZFwiXSxbXCJDTFwiLFwiQ2hpbGVcIl0sW1wiQ05cIixcIkNoaW5hXCJdLFtcIkNYXCIsXCJDaHJpc3RtYXMgSXNsYW5kXCJdLFtcIkNDXCIsXCJDb2NvcyAoS2VlbGluZykgSXNsYW5kc1wiXSxbXCJDT1wiLFwiQ29sb21iaWFcIl0sW1wiS01cIixcIkNvbW9yb3NcIl0sW1wiQ0dcIixcIkNvbmdvXCJdLFtcIkNEXCIsXCJDb25nbywgdGhlIERlbW9jcmF0aWMgUmVwdWJsaWMgb2YgdGhlXCJdLFtcIkNLXCIsXCJDb29rIElzbGFuZHNcIl0sW1wiQ1JcIixcIkNvc3RhIFJpY2FcIl0sW1wiQ0lcIixcIkPDtHRlIGQnSXZvaXJlXCJdLFtcIkhSXCIsXCJDcm9hdGlhXCJdLFtcIkNVXCIsXCJDdWJhXCJdLFtcIkNZXCIsXCJDeXBydXNcIl0sW1wiQ1pcIixcIkN6ZWNoIFJlcHVibGljXCJdLFtcIkRLXCIsXCJEZW5tYXJrXCJdLFtcIkRKXCIsXCJEamlib3V0aVwiXSxbXCJETVwiLFwiRG9taW5pY2FcIl0sW1wiRE9cIixcIkRvbWluaWNhbiBSZXB1YmxpY1wiXSxbXCJFQ1wiLFwiRWN1YWRvclwiXSxbXCJFR1wiLFwiRWd5cHRcIl0sW1wiU1ZcIixcIkVsIFNhbHZhZG9yXCJdLFtcIkdRXCIsXCJFcXVhdG9yaWFsIEd1aW5lYVwiXSxbXCJFUlwiLFwiRXJpdHJlYVwiXSxbXCJFRVwiLFwiRXN0b25pYVwiXSxbXCJFVFwiLFwiRXRoaW9waWFcIl0sW1wiRktcIixcIkZhbGtsYW5kIElzbGFuZHMgKE1hbHZpbmFzKVwiXSxbXCJGT1wiLFwiRmFyb2UgSXNsYW5kc1wiXSxbXCJGSlwiLFwiRmlqaVwiXSxbXCJGSVwiLFwiRmlubGFuZFwiXSxbXCJGUlwiLFwiRnJhbmNlXCJdLFtcIkdGXCIsXCJGcmVuY2ggR3VpYW5hXCJdLFtcIlBGXCIsXCJGcmVuY2ggUG9seW5lc2lhXCJdLFtcIlRGXCIsXCJGcmVuY2ggU291dGhlcm4gVGVycml0b3JpZXNcIl0sW1wiR0FcIixcIkdhYm9uXCJdLFtcIkdNXCIsXCJHYW1iaWFcIl0sW1wiR0VcIixcIkdlb3JnaWFcIl0sW1wiREVcIixcIkdlcm1hbnlcIl0sW1wiR0hcIixcIkdoYW5hXCJdLFtcIkdJXCIsXCJHaWJyYWx0YXJcIl0sW1wiR1JcIixcIkdyZWVjZVwiXSxbXCJHTFwiLFwiR3JlZW5sYW5kXCJdLFtcIkdEXCIsXCJHcmVuYWRhXCJdLFtcIkdQXCIsXCJHdWFkZWxvdXBlXCJdLFtcIkdVXCIsXCJHdWFtXCJdLFtcIkdUXCIsXCJHdWF0ZW1hbGFcIl0sW1wiR0dcIixcIkd1ZXJuc2V5XCJdLFtcIkdOXCIsXCJHdWluZWFcIl0sW1wiR1dcIixcIkd1aW5lYS1CaXNzYXVcIl0sW1wiR1lcIixcIkd1eWFuYVwiXSxbXCJIVFwiLFwiSGFpdGlcIl0sW1wiSE1cIixcIkhlYXJkIElzbGFuZCBhbmQgTWNEb25hbGQgSXNsYW5kc1wiXSxbXCJWQVwiLFwiSG9seSBTZWUgKFZhdGljYW4gQ2l0eSBTdGF0ZSlcIl0sW1wiSE5cIixcIkhvbmR1cmFzXCJdLFtcIkhLXCIsXCJIb25nIEtvbmdcIl0sW1wiSFVcIixcIkh1bmdhcnlcIl0sW1wiSVNcIixcIkljZWxhbmRcIl0sW1wiSU5cIixcIkluZGlhXCJdLFtcIklEXCIsXCJJbmRvbmVzaWFcIl0sW1wiSVJcIixcIklyYW4sIElzbGFtaWMgUmVwdWJsaWMgb2ZcIl0sW1wiSVFcIixcIklyYXFcIl0sW1wiSUVcIixcIklyZWxhbmRcIl0sW1wiSU1cIixcIklzbGUgb2YgTWFuXCJdLFtcIklMXCIsXCJJc3JhZWxcIl0sW1wiSVRcIixcIkl0YWx5XCJdLFtcIkpNXCIsXCJKYW1haWNhXCJdLFtcIkpQXCIsXCJKYXBhblwiXSxbXCJKRVwiLFwiSmVyc2V5XCJdLFtcIkpPXCIsXCJKb3JkYW5cIl0sW1wiS1pcIixcIkthemFraHN0YW5cIl0sW1wiS0VcIixcIktlbnlhXCJdLFtcIktJXCIsXCJLaXJpYmF0aVwiXSxbXCJLUFwiLFwiRGVtb2NyYXRpYyBQZW9wbGUncyBSZXB1YmxpYyBvZiBLb3JlYVwiXSxbXCJLUlwiLFwiUmVwdWJsaWMgb2YgS29yZWFcIl0sW1wiS1dcIixcIkt1d2FpdFwiXSxbXCJLR1wiLFwiS3lyZ3l6c3RhblwiXSxbXCJMQVwiLFwiTGFvIFBlb3BsZSdzIERlbW9jcmF0aWMgUmVwdWJsaWNcIl0sW1wiTFZcIixcIkxhdHZpYVwiXSxbXCJMQlwiLFwiTGViYW5vblwiXSxbXCJMU1wiLFwiTGVzb3Rob1wiXSxbXCJMUlwiLFwiTGliZXJpYVwiXSxbXCJMWVwiLFwiTGlieWFuIEFyYWIgSmFtYWhpcml5YVwiXSxbXCJMSVwiLFwiTGllY2h0ZW5zdGVpblwiXSxbXCJMVFwiLFwiTGl0aHVhbmlhXCJdLFtcIkxVXCIsXCJMdXhlbWJvdXJnXCJdLFtcIk1PXCIsXCJNYWNhb1wiXSxbXCJNS1wiLFwiTWFjZWRvbmlhLCB0aGUgZm9ybWVyIFl1Z29zbGF2IFJlcHVibGljIG9mXCJdLFtcIk1HXCIsXCJNYWRhZ2FzY2FyXCJdLFtcIk1XXCIsXCJNYWxhd2lcIl0sW1wiTVlcIixcIk1hbGF5c2lhXCJdLFtcIk1WXCIsXCJNYWxkaXZlc1wiXSxbXCJNTFwiLFwiTWFsaVwiXSxbXCJNVFwiLFwiTWFsdGFcIl0sW1wiTUhcIixcIk1hcnNoYWxsIElzbGFuZHNcIl0sW1wiTVFcIixcIk1hcnRpbmlxdWVcIl0sW1wiTVJcIixcIk1hdXJpdGFuaWFcIl0sW1wiTVVcIixcIk1hdXJpdGl1c1wiXSxbXCJZVFwiLFwiTWF5b3R0ZVwiXSxbXCJNWFwiLFwiTWV4aWNvXCJdLFtcIkZNXCIsXCJNaWNyb25lc2lhLCBGZWRlcmF0ZWQgU3RhdGVzIG9mXCJdLFtcIk1EXCIsXCJNb2xkb3ZhLCBSZXB1YmxpYyBvZlwiXSxbXCJNQ1wiLFwiTW9uYWNvXCJdLFtcIk1OXCIsXCJNb25nb2xpYVwiXSxbXCJNRVwiLFwiTW9udGVuZWdyb1wiXSxbXCJNU1wiLFwiTW9udHNlcnJhdFwiXSxbXCJNQVwiLFwiTW9yb2Njb1wiXSxbXCJNWlwiLFwiTW96YW1iaXF1ZVwiXSxbXCJNTVwiLFwiTXlhbm1hclwiXSxbXCJOQVwiLFwiTmFtaWJpYVwiXSxbXCJOUlwiLFwiTmF1cnVcIl0sW1wiTlBcIixcIk5lcGFsXCJdLFtcIk5MXCIsXCJOZXRoZXJsYW5kc1wiXSxbXCJBTlwiLFwiTmV0aGVybGFuZHMgQW50aWxsZXNcIl0sW1wiTkNcIixcIk5ldyBDYWxlZG9uaWFcIl0sW1wiTlpcIixcIk5ldyBaZWFsYW5kXCJdLFtcIk5JXCIsXCJOaWNhcmFndWFcIl0sW1wiTkVcIixcIk5pZ2VyXCJdLFtcIk5HXCIsXCJOaWdlcmlhXCJdLFtcIk5VXCIsXCJOaXVlXCJdLFtcIk5GXCIsXCJOb3Jmb2xrIElzbGFuZFwiXSxbXCJNUFwiLFwiTm9ydGhlcm4gTWFyaWFuYSBJc2xhbmRzXCJdLFtcIk5PXCIsXCJOb3J3YXlcIl0sW1wiT01cIixcIk9tYW5cIl0sW1wiUEtcIixcIlBha2lzdGFuXCJdLFtcIlBXXCIsXCJQYWxhdVwiXSxbXCJQU1wiLFwiUGFsZXN0aW5pYW4gVGVycml0b3J5LCBPY2N1cGllZFwiXSxbXCJQQVwiLFwiUGFuYW1hXCJdLFtcIlBHXCIsXCJQYXB1YSBOZXcgR3VpbmVhXCJdLFtcIlBZXCIsXCJQYXJhZ3VheVwiXSxbXCJQRVwiLFwiUGVydVwiXSxbXCJQSFwiLFwiUGhpbGlwcGluZXNcIl0sW1wiUE5cIixcIlBpdGNhaXJuXCJdLFtcIlBMXCIsXCJQb2xhbmRcIl0sW1wiUFRcIixcIlBvcnR1Z2FsXCJdLFtcIlBSXCIsXCJQdWVydG8gUmljb1wiXSxbXCJRQVwiLFwiUWF0YXJcIl0sW1wiUkVcIixcIlLDqXVuaW9uXCJdLFtcIlJPXCIsXCJSb21hbmlhXCJdLFtcIlJVXCIsXCJSdXNzaWFuIEZlZGVyYXRpb25cIl0sW1wiUldcIixcIlJ3YW5kYVwiXSxbXCJCTFwiLFwiU2FpbnQgQmFydGjDqWxlbXlcIl0sW1wiU0hcIixcIlNhaW50IEhlbGVuYSwgQXNjZW5zaW9uIGFuZCBUcmlzdGFuIGRhIEN1bmhhXCJdLFtcIktOXCIsXCJTYWludCBLaXR0cyBhbmQgTmV2aXNcIl0sW1wiTENcIixcIlNhaW50IEx1Y2lhXCJdLFtcIk1GXCIsXCJTYWludCBNYXJ0aW4gKEZyZW5jaCBwYXJ0KVwiXSxbXCJQTVwiLFwiU2FpbnQgUGllcnJlIGFuZCBNaXF1ZWxvblwiXSxbXCJWQ1wiLFwiU2FpbnQgVmluY2VudCBhbmQgdGhlIEdyZW5hZGluZXNcIl0sW1wiV1NcIixcIlNhbW9hXCJdLFtcIlNNXCIsXCJTYW4gTWFyaW5vXCJdLFtcIlNUXCIsXCJTYW8gVG9tZSBhbmQgUHJpbmNpcGVcIl0sW1wiU0FcIixcIlNhdWRpIEFyYWJpYVwiXSxbXCJTTlwiLFwiU2VuZWdhbFwiXSxbXCJSU1wiLFwiU2VyYmlhXCJdLFtcIlNDXCIsXCJTZXljaGVsbGVzXCJdLFtcIlNMXCIsXCJTaWVycmEgTGVvbmVcIl0sW1wiU0dcIixcIlNpbmdhcG9yZVwiXSxbXCJTS1wiLFwiU2xvdmFraWFcIl0sW1wiU0lcIixcIlNsb3ZlbmlhXCJdLFtcIlNCXCIsXCJTb2xvbW9uIElzbGFuZHNcIl0sW1wiU09cIixcIlNvbWFsaWFcIl0sW1wiWkFcIixcIlNvdXRoIEFmcmljYVwiXSxbXCJHU1wiLFwiU291dGggR2VvcmdpYSBhbmQgdGhlIFNvdXRoIFNhbmR3aWNoIElzbGFuZHNcIl0sW1wiRVNcIixcIlNwYWluXCJdLFtcIkxLXCIsXCJTcmkgTGFua2FcIl0sW1wiU0RcIixcIlN1ZGFuXCJdLFtcIlNSXCIsXCJTdXJpbmFtZVwiXSxbXCJTSlwiLFwiU3ZhbGJhcmQgYW5kIEphbiBNYXllblwiXSxbXCJTWlwiLFwiU3dhemlsYW5kXCJdLFtcIlNFXCIsXCJTd2VkZW5cIl0sW1wiQ0hcIixcIlN3aXR6ZXJsYW5kXCJdLFtcIlNZXCIsXCJTeXJpYW4gQXJhYiBSZXB1YmxpY1wiXSxbXCJUV1wiLFwiVGFpd2FuLCBQcm92aW5jZSBvZiBDaGluYVwiXSxbXCJUSlwiLFwiVGFqaWtpc3RhblwiXSxbXCJUWlwiLFwiVGFuemFuaWEsIFVuaXRlZCBSZXB1YmxpYyBvZlwiXSxbXCJUSFwiLFwiVGhhaWxhbmRcIl0sW1wiVExcIixcIlRpbW9yLUxlc3RlXCJdLFtcIlRHXCIsXCJUb2dvXCJdLFtcIlRLXCIsXCJUb2tlbGF1XCJdLFtcIlRPXCIsXCJUb25nYVwiXSxbXCJUVFwiLFwiVHJpbmlkYWQgYW5kIFRvYmFnb1wiXSxbXCJUTlwiLFwiVHVuaXNpYVwiXSxbXCJUUlwiLFwiVHVya2V5XCJdLFtcIlRNXCIsXCJUdXJrbWVuaXN0YW5cIl0sW1wiVENcIixcIlR1cmtzIGFuZCBDYWljb3MgSXNsYW5kc1wiXSxbXCJUVlwiLFwiVHV2YWx1XCJdLFtcIlVHXCIsXCJVZ2FuZGFcIl0sW1wiVUFcIixcIlVrcmFpbmVcIl0sW1wiQUVcIixcIlVuaXRlZCBBcmFiIEVtaXJhdGVzXCJdLFtcIkdCXCIsXCJVbml0ZWQgS2luZ2RvbVwiXSxbXCJVU1wiLFwiVW5pdGVkIFN0YXRlc1wiXSxbXCJVTVwiLFwiVW5pdGVkIFN0YXRlcyBNaW5vciBPdXRseWluZyBJc2xhbmRzXCJdLFtcIlVZXCIsXCJVcnVndWF5XCJdLFtcIlVaXCIsXCJVemJla2lzdGFuXCJdLFtcIlZVXCIsXCJWYW51YXR1XCJdLFtcIlZFXCIsXCJWZW5lenVlbGEsIEJvbGl2YXJpYW4gUmVwdWJsaWMgb2ZcIl0sW1wiVk5cIixcIlZpZXQgTmFtXCJdLFtcIlZHXCIsXCJWaXJnaW4gSXNsYW5kcywgQnJpdGlzaFwiXSxbXCJWSVwiLFwiVmlyZ2luIElzbGFuZHMsIFUuUy5cIl0sW1wiV0ZcIixcIldhbGxpcyBhbmQgRnV0dW5hXCJdLFtcIkVIXCIsXCJXZXN0ZXJuIFNhaGFyYVwiXSxbXCJZRVwiLFwiWWVtZW5cIl0sW1wiWk1cIixcIlphbWJpYVwiXSxbXCJaV1wiLFwiWmltYmFid2VcIl0sW1wiXCJdXSIsIm1vZHVsZS5leHBvcnRzID0gW1tcIjBcIixcImNsZWFyIHNreVwiXSxbXCIxXCIsXCJtYWlubHkgY2xlYXJcIl0sW1wiMlwiLFwiTWFpbmx5IGNsZWFyXCJdLFtcIjNcIixcIm92ZXJjYXN0XCJdLFtcIjQ1XCIsXCJmb2dcIl0sW1wiNDhcIixcInJpbWUgZm9nXCJdLFtcIjUxXCIsXCJsaWdodCBEcml6emxlXCJdLFtcIjUzXCIsXCJtb2RlcmF0ZSBEcml6emxlXCJdLFtcIjU1XCIsXCJkZW5zZSBEcml6emxlXCJdLFtcIjU2XCIsXCJsaWdodCBmcmVlemluZyBkcml6emxlXCJdLFtcIjU3XCIsXCJkZW5zZSBmcmVlemluZyBkcml6emxcIl0sW1wiNjFcIixcInNsaWdodCByYWluXCJdLFtcIjYzXCIsXCJtb2RlcmF0ZSByYWluXCJdLFtcIjY1XCIsXCJoZWF2eSByYWluXCJdLFtcIjY2XCIsXCJsaWdodCBmcmVlemluZyByYWluXCJdLFtcIjY3XCIsXCJoZWF2eSBmcmVlemluZyByYWluXCJdLFtcIjcxXCIsXCJzbGlnaHQgc25vdyBmYWxsXCJdLFtcIjczXCIsXCJtb2RlcmF0ZSBzbm93IGZhbGxcIl0sW1wiNzVcIixcImhlYXZ5IHNub3cgZmFsbFwiXSxbXCI3N1wiLFwic25vdyBncmFpbnNcIl0sW1wiODBcIixcInNsaWdodCByYWluIHNob3dlclwiXSxbXCI4MVwiLFwibW9kZXJhdGUgcmFpbiBzaG93ZXJcIl0sW1wiODJcIixcInZpb2xlbnQgcmFpbiBzaG93ZXJcIl0sW1wiODVcIixcInNsaWdodCBzbm93IHNob3dlclwiXSxbXCI4NlwiLFwiaGVhdnkgc25vdyBzaG93ZXJcIl0sW1wiOTVcIixcInRodW5kZXJzdG9ybVwiXSxbXCI5NlwiLFwidGh1bmRlcnN0b3JtIHdpdGggc2xpZ2h0IGhhaWxcIl0sW1wiOTlcIixcInRodW5kZXJzdG9ybSB3aXRoIGhlYXZ5IGhhaWxcIl0sW1wiXCJdXSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgY291bnRyeUNvZGVzIGZyb20gJy4vYXNzZXRzL2NvdW50cnktY29kZXMuY3N2JztcbmltcG9ydCB3bW9Db2RlcyBmcm9tICcuL2Fzc2V0cy93bW8tY29kZXMuY3N2JztcblxuLy8gUHJldmVudCBwYWdlIGZyb20gcmVmcmVzaGluZ1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybScpLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGUgPT4ge1xuICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgZ2VuZXJhdGUoKTtcbn0pO1xuXG4vLyBTZWxlY3QgSFRNTCBlbGVtZW50c1xuY29uc3QgY2l0eUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cInNlYXJjaFwiXScpO1xuY29uc3QgbGltaXRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJudW1iZXJcIl0nKTtcbmNvbnN0IHpvbmVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCcpO1xuZ2VuZXJhdGVab25lc0hUTUwoKTtcbmNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluJyk7XG5cbi8vIEFQSSBmdW5jdGlvbnNcbmZ1bmN0aW9uIGxvY2F0aW9uR2VuKGNpdHksIGxpbWl0KSB7XG4gICBjb25zdCBhcGlVcmwgPSAnaHR0cDovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZ2VvLzEuMC9kaXJlY3Q/cT0nO1xuICAgY29uc3QgdG9BUElfa2V5ID0gJyZhcHBpZD1mZmRmYTI1MzkxMjM2OTYxMWJhMTc4NDczNTMyZGMwMCc7XG4gICByZXR1cm4gYXBpVXJsICsgY2l0eSArICcmbGltaXQ9JyArIGxpbWl0ICsgdG9BUElfa2V5O1xufVxuZnVuY3Rpb24gd2VhdGhlckFQSShsYXRpdHVkZSwgbG9uZ2l0dWRlLCB0aW1lWm9uZSkge1xuICAgLy9odHRwczovL2FwaS5vcGVuLW1ldGVvLmNvbS92MS9mb3JlY2FzdD9sYXRpdHVkZT01Mi41MiZsb25naXR1ZGU9MTMuNDFcbiAgIC8vJmRhaWx5PXdlYXRoZXJjb2RlLHRlbXBlcmF0dXJlXzJtX21heCx0ZW1wZXJhdHVyZV8ybV9taW4scHJlY2lwaXRhdGlvbl9zdW0mdGltZXpvbmU9RXVyb3BlJTJGQmVybGluXG4gICBjb25zdCBhcGlVcmwgPSAnaHR0cDovL2FwaS5vcGVuLW1ldGVvLmNvbS92MS9mb3JlY2FzdD8nO1xuICAgY29uc3QgdG9QYXJhbWV0ZXJzID0gJyZkYWlseT13ZWF0aGVyY29kZSx0ZW1wZXJhdHVyZV8ybV9tYXgsdGVtcGVyYXR1cmVfMm1fbWluLHByZWNpcGl0YXRpb25fc3VtJnRpbWV6b25lPSc7XG4gICByZXR1cm4gYXBpVXJsICsgJ2xhdGl0dWRlPScgKyBsYXRpdHVkZSArICcmbG9uZ2l0dWRlPScgKyBsb25naXR1ZGUgKyB0b1BhcmFtZXRlcnMgKyB0aW1lWm9uZTtcbn1cblxuZnVuY3Rpb24gd2VhdGhlckhvdXJseShsYXRpdHVkZSwgbG9uZ2l0dWRlKSB7XG4gICAvL2h0dHBzOi8vYXBpLm9wZW4tbWV0ZW8uY29tL3YxL2ZvcmVjYXN0P2xhdGl0dWRlPTUyLjUyJmxvbmdpdHVkZT0xMy40MVxuICAgLy8mZGFpbHk9d2VhdGhlcmNvZGUsdGVtcGVyYXR1cmVfMm1fbWF4LHRlbXBlcmF0dXJlXzJtX21pbixwcmVjaXBpdGF0aW9uX3N1bSZ0aW1lem9uZT1FdXJvcGUlMkZCZXJsaW5cbiAgIGNvbnN0IHRvUGFyYW1ldGVycyA9ICcmaG91cmx5PXRlbXBlcmF0dXJlXzJtLHJlbGF0aXZlaHVtaWRpdHlfMm0nO1xuICAgY29uc3QgYXBpVXJsID0gJ2h0dHA6Ly9hcGkub3Blbi1tZXRlby5jb20vdjEvZm9yZWNhc3Q/JztcbiAgIHJldHVybiBhcGlVcmwgKyAnbGF0aXR1ZGU9JyArIGxhdGl0dWRlICsgJyZsb25naXR1ZGU9JyArIGxvbmdpdHVkZSArIHRvUGFyYW1ldGVycztcbiAgIC8vIHJldHVybmluZyBKU09OLmhvdXJseS57cmVsYXRpdmVodW1pZGl0eV8ybSA6IFtob3Vyc10sIHRlbXBlcmF0dXJlXzJtOiBbaG91cnNdIH1cbn1cblxuLy8gbWFpbiBmdW5jdGlvblxuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGUoKSB7XG4gICBjb25zdCB3ZWF0aGVyRGF0YSA9IFtdO1xuICAgbWFpbi50ZXh0Q29udGVudCA9ICcnO1xuICAgY29uc3QgbG9hZGluZ0Rpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9hZGluZycpLnF1ZXJ5U2VsZWN0b3IoJ2gxJyk7XG4gICBsb2FkaW5nRGlzcGxheS50ZXh0Q29udGVudCA9ICdMb2FkaW5nLi4nO1xuXG4gICBjb25zdCBzZWFyY2hlZENpdHkgPSBjaXR5SW5wdXQudmFsdWU7XG4gICBjb25zdCBudW1iZXJPZkNpdGllcyA9IGxpbWl0SW5wdXQudmFsdWU7XG4gICBjb25zdCBnbXRJbnB1dCA9IHpvbmVJbnB1dC52YWx1ZTtcblxuICAgLy8gZ2V0dGluZyBsb25nICYgbGF0IGZyb20gbG9jYXRpb24gdXJsXG4gICB0cnkge1xuICAgICAgbGV0IGNvb3JkaW5hdGVzID0gW107XG4gICAgICBjb29yZGluYXRlcyA9IGF3YWl0IGZldGNoaW5nKGxvY2F0aW9uR2VuKHNlYXJjaGVkQ2l0eSwgbnVtYmVyT2ZDaXRpZXMpKTtcblxuICAgICAgZm9yIChsZXQgbG9jYXRpb24gb2YgY29vcmRpbmF0ZXMpIHtcbiAgICAgICAgIGNvbnN0IHdlYXRoZXJKU09OID0gYXdhaXQgZmV0Y2hpbmcod2VhdGhlckFQSShsb2NhdGlvbi5sYXQsIGxvY2F0aW9uLmxvbiwgZ210SW5wdXQpKTtcbiAgICAgICAgIHdlYXRoZXJEYXRhLnB1c2goe1xuICAgICAgICAgICAgY2l0eTogbG9jYXRpb24ubmFtZSxcbiAgICAgICAgICAgIGNvdW50cnk6IGxvY2F0aW9uLmNvdW50cnksXG4gICAgICAgICAgICB0ZW1wTWF4OiB3ZWF0aGVySlNPTi5kYWlseS50ZW1wZXJhdHVyZV8ybV9tYXhbMF0sXG4gICAgICAgICAgICB0ZW1wTWluOiB3ZWF0aGVySlNPTi5kYWlseS50ZW1wZXJhdHVyZV8ybV9taW5bMF0sXG4gICAgICAgICAgICBwcmVjaXBpdGF0aW9uOiB3ZWF0aGVySlNPTi5kYWlseS5wcmVjaXBpdGF0aW9uX3N1bVswXSxcbiAgICAgICAgICAgIHdlYXRoZXJDb2RlOiB3ZWF0aGVySlNPTi5kYWlseS53ZWF0aGVyY29kZVswXVxuICAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgIH1cbiAgIC8vIEhUTUwgbWFuaXB1bGF0aW9uc1xuICAgZmluYWxseSB7XG4gICAgICBwb3B1bGF0ZSh3ZWF0aGVyRGF0YSk7XG4gICAgICBsb2FkaW5nRGlzcGxheS50ZXh0Q29udGVudCA9ICcnO1xuICAgfVxuXG5cbn1cblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hpbmcodXJsKSB7XG4gICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgeyBtb2RlOiAnY29ycycgfSk7XG4gICBjb25zdCByZXMgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgIHJldHVybiByZXM7XG59XG5cbi8vIEhUTUwgbWFuaXB1bGF0aW9uIGZ1bmN0aW9uXG5mdW5jdGlvbiBwb3B1bGF0ZShsaXN0KSB7XG4gICBsaXN0LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG4gICAgICBjb25zdCB3ZWF0aGVyQ29kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgICBjb25zdCBwYXJhbXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgY29uc3QgdGVtcE1heCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICBjb25zdCB0ZW1wTWluID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgIGNvbnN0IHByZWNpcGl0YXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuXG4gICAgICB0aXRsZS50ZXh0Q29udGVudCA9IGAke2VsZW1lbnQuY2l0eX0gLSAke2dldENvdW50cnkoZWxlbWVudC5jb3VudHJ5KX1gO1xuICAgICAgd2VhdGhlckNvZGUudGV4dENvbnRlbnQgPSBjYW1lbENhc2luZyh3bW8oZWxlbWVudC53ZWF0aGVyQ29kZSkpO1xuICAgICAgdGVtcE1heC50ZXh0Q29udGVudCA9IGBUZW1wZXJhdHVyZSBNYXg6ICR7ZWxlbWVudC50ZW1wTWF4fSDCsENgO1xuICAgICAgdGVtcE1pbi50ZXh0Q29udGVudCA9IGBUZW1wZXJhdHVyZSBNaW46ICR7ZWxlbWVudC50ZW1wTWlufSDCsENgO1xuICAgICAgcHJlY2lwaXRhdGlvbi50ZXh0Q29udGVudCA9IGBQcmVjaXBpdGF0aW9uIDogJHtlbGVtZW50LnByZWNpcGl0YXRpb259IG1tYDtcblxuICAgICAgaWYgKGVsZW1lbnQudGVtcE1heCA8PSAxMCkge1xuICAgICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSBcImNvbGRcIjtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGVsZW1lbnQudGVtcE1heCA8PSAyNSkge1xuICAgICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSBcIndhcm1cIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9IFwiaG90XCI7XG4gICAgICB9XG5cbiAgICAgIHBhcmFtcy5hcHBlbmRDaGlsZCh0ZW1wTWF4KTtcbiAgICAgIHBhcmFtcy5hcHBlbmRDaGlsZCh0ZW1wTWluKTtcbiAgICAgIHBhcmFtcy5hcHBlbmRDaGlsZChwcmVjaXBpdGF0aW9uKTtcbiAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZCh3ZWF0aGVyQ29kZSk7XG4gICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHBhcmFtcyk7XG5cbiAgICAgIG1haW4uYXBwZW5kQ2hpbGQod3JhcHBlcik7XG4gICB9KVxufVxuXG5mdW5jdGlvbiBjYW1lbENhc2luZyh0eHQpIHtcbiAgIHJldHVybiB0eHQuc3BsaXQoXCIgXCIpLm1hcCh3b3JkID0+IHdvcmRbMF0udG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSkpLmpvaW4oJyAnKVxufVxuXG4vLyBDb2Rlc1xuXG5mdW5jdGlvbiBnZXRDb3VudHJ5KGNvdW50cnlDb2RlKSB7XG4gICByZXR1cm4gY291bnRyeUNvZGVzLmZpbmQobGluZSA9PiBsaW5lWzBdID09PSBjb3VudHJ5Q29kZSlbMV1cbn1cblxuZnVuY3Rpb24gd21vKGNvZGUpIHtcbiAgIGNvbnNvbGUubG9nKGNvZGUpXG4gICBjb25zb2xlLmxvZyh3bW9Db2RlcylcbiAgIHJldHVybiB3bW9Db2Rlcy5maW5kKGxpbmUgPT4gbGluZVswXSA9PT0gY29kZS50b1N0cmluZygpKVsxXVxufVxuXG4vLyBUaW1lIHpvbmVzIEhUTUwgY29udGVudFxuZnVuY3Rpb24gZ2VuZXJhdGVab25lc0hUTUwoKSB7XG4gICB6b25lSW5wdXQuaW5uZXJIVE1MID0gYDxvcHRpb24gdmFsdWU9XCJBbWVyaWNhJTJGQW5jaG9yYWdlXCI+QW1lcmljYS9BbmNob3JhZ2U8L29wdGlvbj5cbiAgIDxvcHRpb24gdmFsdWU9XCJBbWVyaWNhJTJGTG9zX0FuZ2VsZXNcIj5BbWVyaWNhL0xvc19BbmdlbGVzPC9vcHRpb24+XG4gICA8b3B0aW9uIHZhbHVlPVwiQW1lcmljYSUyRkRlbnZlclwiPkFtZXJpY2EvRGVudmVyPC9vcHRpb24+XG4gICA8b3B0aW9uIHZhbHVlPVwiQW1lcmljYSUyRkNoaWNhZ29cIj5BbWVyaWNhL0NoaWNhZ288L29wdGlvbj5cbiAgIDxvcHRpb24gdmFsdWU9XCJBbWVyaWNhJTJGTmV3X1lvcmtcIj5BbWVyaWNhL05ld19Zb3JrPC9vcHRpb24+XG4gICA8b3B0aW9uIHZhbHVlPVwiQW1lcmljYSUyRlNhb19QYXVsb1wiPkFtZXJpY2EvU2FvX1BhdWxvPC9vcHRpb24+XG4gICA8b3B0aW9uIHNlbGVjdGVkIHZhbHVlPVwiRXVyb3BlJTJGTG9uZG9uXCI+RXVyb3BlL0xvbmRvbjwvb3B0aW9uPlxuICAgPG9wdGlvbiB2YWx1ZT1cIkV1cm9wZSUyRkJlcmxpblwiPkV1cm9wZS9CZXJsaW48L29wdGlvbj5cbiAgIDxvcHRpb24gdmFsdWU9XCJFdXJvcGUlMkZNb3Njb3dcIj5FdXJvcGUvTW9zY293PC9vcHRpb24+XG4gICA8b3B0aW9uIHZhbHVlPVwiQWZyaWNhJTJGQ2Fpcm9cIj5BZnJpY2EvQ2Fpcm88L29wdGlvbj5cbiAgIDxvcHRpb24gdmFsdWU9XCJBc2lhJTJGQmFuZ2tva1wiPkFzaWEvQmFuZ2tvazwvb3B0aW9uPlxuICAgPG9wdGlvbiB2YWx1ZT1cIkFzaWElMkZTaW5nYXBvcmVcIj5Bc2lhL1NpbmdhcG9yZTwvb3B0aW9uPlxuICAgPG9wdGlvbiB2YWx1ZT1cIkFzaWElMkZUb2t5b1wiPkFzaWEvVG9reW88L29wdGlvbj5cbiAgIDxvcHRpb24gdmFsdWU9XCJBdXN0cmFsaWElMkZTeWRuZXlcIj5BdXN0cmFsaWEvU3lkbmV5PC9vcHRpb24+XG4gICA8b3B0aW9uIHZhbHVlPVwiUGFjaWZpYyUyRkF1Y2tsYW5kXCI+UGFjaWZpYy9BdWNrbGFuZDwvb3B0aW9uPmA7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9